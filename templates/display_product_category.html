[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}

.product-images-container {
  overflow-x: scroll;
   scrollbar-color: red ;
  overflow-y: hidden;
  height: 600px;

}

.product-image:not(:last-child){
  padding-right: 8%;
}

.product-image img{
  width: 400px;
  height: 250px;
}

.scrollable-element {
  scrollbar-color: red ;
}

.responsiveCard {
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      transition: .4s;
}

.responsiveCard:hover{
    box-shadow: 0 0 11px rgba(33,33,33,.2);
    transform: translate(0px, -8px);
    transition: .6s;
}

</style>


<section class="section">
<div class="section" id="vue-target" v-cloak>
  <div>
    <h1 class="title has-text-weight-bold" style="color: #f1641e;" >Displaying results for the category: "[[=product_type]]"</h1>
    <nav class="level is-mobile product-images-container scroller scrollable-element">
      [[for product in rows:]]
      <div class="level-item level-left product-image">
        <div class="card responsiveCard" style=" border-style: solid; border-color: #f1641e;">
          <div class="card-image">
              <div class ="card-image has centered px-6">
              <a href="[[=URL('product', product.get('username', ''), product.get('id', ''))]]">
                  <img src="[[=product['image1']]]" width="600" height="600">
              </a>
              </div>
              <div class="card-content">
                   <p class= "title is-size-3 has-text-centered">[[=product['name']]]</p>
                       <p class="mb-4"> </p>
                       <p class= "title is-size-6 has-text-centered">
                           Sold by: <a href="[[=URL('profile', product.get('username', ''))]]">
                           [[=product['first_name']]] [[=product['last_name']]] ([[=product['username']]])</a></p>
                       <p class="mb-4"> </p>

                        [[if product['ratingPresent'] == True:]]
                       <p class= "title is-size-7 has-text-centered has-text-weight-bold">Rating:
                        [[=product['aggegateRating']]] out of 5.0 </p>
                        [[else:]]
                                 <p class= "title is-size-7 has-text-centered has-text-weight-bold has-text-danger">Rating:
                        Not Rated Yet :(</p>
                        [[pass]]

                       <p class="mb-3"> </p>
                       <p class= "has-text-centered">$[[=product['price']]]</p>
                  </div>
                  <footer class="card-footer">
                    <a href="[[=product['prodURL']]]" class="card-footer-item">View</a>
<!--                    <a href="#" class="card-footer-item">Add to Cart</a>-->
              </footer>
          </div>
        </div>
      </div>
      [[pass]]
    </nav>
  </div>
</div>
</section>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
</script>
<script src="js/display_product_category.js"></script>
[[end]]
