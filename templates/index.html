[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}

.notification-corner:hover{
  opacity: 1;
}


.notification-corner{
    position: fixed;
	right:0;
	bottom:0;
	width:300px;
	height:170px;
    background-color: rgb(1,89,138);
	-webkit-box-shadow: 0 2px 15px 0 rgba(0,0,0,0.6);
	box-shadow: 0 2px 15px 0 rgba(0,0,0,0.6);
	-moz-box-shadow: 0 2px 15px 0 rgba(0,0,0,0.6);
	z-index: 9999;
	margin: 10;
	padding: 10;
	opacity: 0.6;
}



.product-images-container {
  overflow-x: scroll;
  overflow-y: hidden;
  height: 600px;

}

.product-image:not(:last-child){
  padding-right: 8%;
}

.product-image img{
  width: 400px;
  height: 250px;
}


</style>

<div id="vue-target" v-cloak>

  <div>

    [[ personalized =isPersonalized]]
    [[ if personalized == True:]]
        <h1 >[[=personalized]]</h1>
     [[else: ]]
        [[if display == True: ]]
            <div>
                    <div  @mouseover="setHover(true)" @mouseleave="setHover(false)" :class="{'onHover': hover}" class=" box px-1 notification-corner " >
                       <div >
                           <h1 class=" title is-5 has-text-light has-text-centered "> Hey there, [[=globals().get('user').get('first_name')]] !</h1>
                           <h1 class=" title is-6 has-text-warning has-text-centered "> Let's get Personal.</h1>
                           <div class="  has-text-centered ">
                                <a class="button is-warning is-danger " href="[[=URL('add_user_personalization', signer=url_signer)]]"> Personalize! </a>
                            </div>
                       </div>


                    </div>

                </div>

            </div>
      [[pass]]

     [[pass]]

    [[pass]]


      <section class="section">
         <div class="columns block is-mobile is-variable is-8">
              <!-- First Half of page -->
             <div class="column is-one-third">


                  <!-- List of Topics bar-->

                <div  class="notification has-text-white " style="background-color: #F9A276; ">
                  <p class="is-size-2">List of Topics-</p>
                  <div class="content is-medium">
                    <ul>
                      <a href="[[=URL('display_product_category/Jewelry&Accessories')]]"><li>Jewelry & Accessories</li></a>
                      <a href="[[=URL('display_product_category/Clothing&Shoes')]]"><li>Clothing & Shoes</li></a>
                      <a href="[[=URL('display_product_category/Home&Living')]]"><li>Home & Living</li></a>
                      <a href="[[=URL('display_product_category/Toys&Entertainment')]]"><li>Toys & Entertainment</li></a>
                      <a href="[[=URL('display_product_category/Art&Collectibles')]]"><li>Art & Collectibles</li></a>
                      <a href="[[=URL('display_product_category/Other')]]"><li>Other</li></a>
                    </ul>
                    </div>
                </div>
            </div>
            <!-- Second Half of page -->
            <div class="column is-two-thirds">
            <!-- First Scroller -->
            <h1 class="title has-text-weight-bold " style="color: #f1641e">[[=firstRowText]]</h1>
             <nav class="level is-mobile product-images-container" >

      [[for product in firstProductRow:]]

        <div class="level-item level-left product-image">
            <div class="card "  style=" border-style: solid; border-color:  #f1641e;">
              <div class="card-image">
               <div class ="card-image has centered px-6">
                    <img src="[[=product['image1']]]" width="600" height="600">
                  </div>
                  <div class="card-content">
                    <p class= "title is-size-1 has-text-centered">[[=product['name']]]</p>
                    <p class= "title is-size-4 has-text-centered">[[=product['description']]]</p>
                      <p class="mb-4"> </p>
                      <p class= "title is-size-6 has-text-centered">Sold by: </p>
                      <p class="mb-4"> </p>
                      <p class= "title is-size-7 has-text-centered">Rating: [[=product['rating']]]</p>
                      <p class="mb-3"> </p>
                    <p class= "has-text-centered">$[[=product['price']]]</p>
                  </div>
                  <footer class="card-footer">
                    <a href="#" class="card-footer-item">Buy Now</a>
                    <a href="#" class="card-footer-item">Add to Cart</a>
                  </footer>
              </div>
            </div>
      </div>


      [[pass]]
    </nav>

      <!-- Second Scroller -->
    <p class="mt-6"></p>
    <h1 class="title has-text-weight-bold" style="color: #f1641e">Trending Items</h1>
    <nav class="level is-mobile product-images-container" >

      [[for product in trendingProducts:]]
          <div class="level-item level-left product-image ">
            <div class="card pt-6 ">
              <div class="card-image"  style=" border-style: solid; border-color: #f1641e;">
               <div class ="card-image has centered px-6">
                    <img src="[[=product['image1']]]" width="600" height="600">
                  </div>
                  <div class="card-content ">
                    <p class= "title is-size-1 has-text-centered">[[=product['name']]]</p>
                    <p class= "title is-size-4 has-text-centered">[[=product['description']]]</p>
                      <p class="mb-4"> </p>
                      <p class= "title is-size-6 has-text-centered">Sold by: </p>
                      <p class="mb-4"> </p>
                      <p class= "title is-size-7 has-text-centered">Rating: [[=product['rating']]]</p>
                      <p class="mb-3"> </p>
                    <p class= "has-text-centered">$[[=product['price']]]</p>
                  </div>
                  <footer class="card-footer">
                    <a href="#" class="card-footer-item">Buy Now</a>
                    <a href="#" class="card-footer-item">Add to Cart</a>
                  </footer>
              </div>
            </div>
         </div>



      [[pass]]
    </nav>
  </div>
 </div>
</section>
</div>

<div> 
    <table class="table is-striped is-fullwidth"> 
        <tr> 
            <th> id</th> 
            <th> email</th> 
            <th> username</th> 
            <th> personalized</th> 
            <th> pref1</th> 
            <th> pref2</th> 
            <th> pref3</th> 
        </tr> 
        [[ for r in theDB:]]  
        <tr>  
            <td> [[=r['id']]] </td> 
            <td> [[=r['user_email']]] </td> 
            <td> [[=r['username']]] </td> 
            <td> [[=r['isPersonlized']]]</td> 
            <td> [[=r['preference1']]]</td> 
            <td> [[=r['preference2']]]</td> 
            <td> [[=r['preference3']]]</td>   
        </tr> 
        [[pass]]  
    </table>      
</div> 


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let my_callback_url = "[[=XML(my_callback_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
